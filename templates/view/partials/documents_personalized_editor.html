<!-- Include stylesheet -->
<link href="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.snow.css" rel="stylesheet" />

<!-- Create the editor container -->
<div id="editor">
    <h1>Relatório Psicológico</h1>
    <p><strong>Data:</strong> </p>
    <p><strong>Paciente:</strong> </p>
    <p><br></p>
    <h2>1. Identificação</h2>
    <p>[Informações de identificação do paciente]</p>
    <p><br></p>
    <h2>2. Demanda</h2>
    <p>[Motivo do atendimento/avaliação]</p>
    <p><br></p>
    <h2>3. Análise</h2>
    <p>[Análise do caso]</p>
    <p><br></p>
    <h2>4. Conclusão</h2>
    <p>[Conclusões e recomendações]</p>
</div>

<style>
    #editor {
        width: 795px;
        min-height: 500px;
        margin: 2rem auto;
        background: white;
        border-radius: 4px;
    }

    .ql-toolbar.ql-snow {
        background: #2f3742;
        border-color: #444 !important;
        border-top-left-radius: 4px;
        border-top-right-radius: 4px;
    }

    .ql-container.ql-snow {
        border-color: #444 !important;
        border-bottom-left-radius: 4px;
        border-bottom-right-radius: 4px;
    }

    /* Cores dos ícones */
    .ql-snow .ql-stroke {
        stroke: #fff !important;
    }

    .ql-snow .ql-fill {
        fill: #fff !important;
    }

    .ql-snow .ql-picker {
        color: #fff !important;
    }

    .ql-snow .ql-picker-options {
        background-color: #2f3742 !important;
        border-color: #444 !important;
    }
</style>

<!-- Include the Quill library -->
<script src="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.js"></script>

<!-- Initialize Quill editor -->
<script>
    console.log('Script carregado');
    
    // Função de inicialização do Quill
    function initQuill() {
        console.log('Iniciando Quill');
        console.log('Editor element:', document.querySelector('#editor'));
        
        try {
            const quill = new Quill('#editor', {
                theme: 'snow',
                modules: {
                    toolbar: [
                        [{ 'header': [1, 2, false] }],
                        ['bold', 'italic', 'underline'],
                        [{ 'align': [] }],
                        [{ 'list': 'ordered'}, { 'list': 'bullet' }],
                        [{ 'indent': '-1'}, { 'indent': '+1' }],
                        ['clean']
                    ]
                }
            });
            console.log('Quill inicializado com sucesso');
        } catch (error) {
            console.error('Erro ao inicializar Quill:', error);
        }
    }

    // Tenta inicializar imediatamente
    initQuill();

    // Também inicializa após o HTMX carregar o conteúdo
    document.addEventListener('htmx:afterSwap', function(event) {
        console.log('htmx:afterSwap triggered');
        initQuill();
    });
</script> 